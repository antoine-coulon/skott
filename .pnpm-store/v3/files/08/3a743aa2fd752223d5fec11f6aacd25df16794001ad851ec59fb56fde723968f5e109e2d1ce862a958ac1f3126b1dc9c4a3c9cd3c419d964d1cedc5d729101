{"version":3,"file":"patch.mjs","names":["Chunk","Differ","Equal","HashSet","supervisor","OP_EMPTY","OP_ADD_SUPERVISOR","OP_REMOVE_SUPERVISOR","OP_AND_THEN","empty","_tag","combine","self","that","first","second","patch","patchLoop","of","_supervisor","_patches","patches","isNonEmpty","head","headNonEmpty","tailNonEmpty","zip","removeSupervisor","prepend","equals","none","Zip","left","right","toSet","union","make","diff","oldValue","newValue","oldSupervisors","newSupervisors","added","reduce","difference","removed","differ"],"sources":["../../../../src/internal_effect_untraced/supervisor/patch.ts"],"sourcesContent":[null],"mappings":"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"}