{"version":3,"file":"queue.mjs","names":["Chunk","MutableQueue","MutableRef","ReadonlyArray","Debug","core","fiberRuntime","EnqueueSymbolKey","EnqueueTypeId","Symbol","for","DequeueSymbolKey","DequeueTypeId","QueueStrategySymbolKey","QueueStrategyTypeId","queueStrategyVariance","_A","_","enqueueVariance","_In","dequeueVariance","_Out","QueueImpl","constructor","queue","takers","shutdownHook","shutdownFlag","strategy","_a","_b","capacity","size","bodyWithTrace","trace","suspendSucceed","get","interrupt","succeed","length","surplusSize","traced","isEmpty","map","isFull","shutdown","uninterruptible","withFiberRuntime","state","set","asUnit","whenEffect","deferredSucceed","zipRight","forEachParDiscard","d","deferredInterruptWith","id","unsafePollAll","isShutdown","sync","awaitShutdown","deferredAwait","offer","value","noRemaining","taker","poll","EmptyMutableQueue","unsafeCompleteDeferred","succeeded","unsafeCompleteTakers","handleSurplus","offerAll","iterable","values","fromIterable","pTakers","unsafePollN","empty","forTakers","remaining","splitAt","i","item","surplus","unsafeOfferAll","take","unsafeOnQueueEmptySpace","deferred","deferredUnsafeMake","onInterrupt","unsafeRemove","takeAll","takeUpTo","max","takeBetween","min","takeRemainderLoop","self","acc","flatMap","bs","b","append","concat","isQueue","u","isEnqueue","isDequeue","bounded","methodWithTrace","requestedCapacity","make","backPressureStrategy","dropping","droppingStrategy","sliding","slidingStrategy","unbounded","unsafeMake","deferredMake","dualWithTrace","head","takeN","n","BackPressureStrategy","DroppingStrategy","SlidingStrategy","_c","putters","fiberId","isLastItem","unit","unsafeOffer","keepPolling","putter","offered","prepend","iterator","next","done","filter","_d","_iterable","_queue","_takers","_isShutdown","_e","offering","a","deferredUnsafeDone","as","pollUpTo","Number","POSITIVE_INFINITY","element"],"sources":["../../../src/internal_effect_untraced/queue.ts"],"sourcesContent":[null],"mappings":"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"}