{"version":3,"file":"node.mjs","names":["equals","arraySpliceIn","arraySpliceOut","arrayUpdate","fromBitmap","hashFragment","toBitmap","MAX_INDEX_NODE","MIN_ARRAY_NODE","SIZE","Stack","O","EmptyNode","constructor","_tag","modify","edit","_shift","f","hash","key","size","v","none","isNone","value","LeafNode","isEmptyNode","a","isLeafNode","node","canEditNode","shift","mergeLeaves","CollisionNode","children","canEdit","list","updateCollisionList","length","mutate","len","i","child","newValue","IndexedNode","mask","frag","bit","indx","exists","_newChild","expand","current","bitmap","newChildren","ArrayNode","count","newChild","pack","removed","elements","Array","g","elem","subNodes","arr","mergeLeavesInner","h1","n1","h2","n2","subH1","subH2","stack","undefined","currentShift","res","final","previous"],"sources":["../../../../src/internal/HashMap/node.ts"],"sourcesContent":[null],"mappings":"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"}