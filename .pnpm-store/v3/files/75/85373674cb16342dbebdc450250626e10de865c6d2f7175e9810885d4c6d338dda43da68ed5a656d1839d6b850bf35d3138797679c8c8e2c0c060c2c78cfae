{"version":3,"file":"cause-pretty.js","names":["Chunk","_interopRequireWildcard","require","Option","Debug","internal","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","renderToString","u","toString","raw","JSON","parse","stringify","keys","Set","delete","size","name","_tag","message","renderTraces","chunk","ret","s","r","toFrame","runtimeDebug","filterStackFrame","push","renderFrame","renderStack","span","isNone","value","stack","length","renderFail","error","errorStack","RenderError","seq","join","renderError","parseStack","traces","frame","String","defaultErrorToLines","Error","constructor","RenderErrorTmp","errorSack","fiberStack","pretty","cause","isInterruptedOnly","errors","prettyErrors","final","Array","from","sort","a","b","map","e","includes","exports","reduceWithContext","emptyCase","dieCase","_","err","rendered","none","failCase","interruptCase","parallelCase","l","sequentialCase","annotatedCase","v","parent","isStackAnnotation","orElse","some","annotation","StackAnnotation","traceStackLimit","unsafeLast","take","dedupeAdjacent","concat","flatMap","fileName","line","column"],"sources":["../../../src/internal_effect_untraced/cause-pretty.ts"],"sourcesContent":[null],"mappings":"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"}