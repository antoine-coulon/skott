{"version":3,"file":"patch.js","names":["Chunk","_interopRequireWildcard","require","Differ","Equal","HashSet","supervisor","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","OP_EMPTY","exports","OP_ADD_SUPERVISOR","OP_REMOVE_SUPERVISOR","OP_AND_THEN","empty","_tag","combine","self","that","first","second","patch","patchLoop","of","_supervisor","_patches","patches","isNonEmpty","head","headNonEmpty","tailNonEmpty","zip","removeSupervisor","prepend","equals","none","Zip","left","right","toSet","union","make","diff","oldValue","newValue","oldSupervisors","newSupervisors","added","reduce","difference","removed","differ"],"sources":["../../../../src/internal_effect_untraced/supervisor/patch.ts"],"sourcesContent":[null],"mappings":"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"}