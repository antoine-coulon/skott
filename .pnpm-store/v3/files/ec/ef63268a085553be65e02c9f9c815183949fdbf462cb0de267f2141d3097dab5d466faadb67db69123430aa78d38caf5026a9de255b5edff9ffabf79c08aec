{"version":3,"file":"ref.js","names":["MutableRef","_interopRequireWildcard","require","Option","Debug","core","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","RefTypeId","Symbol","for","exports","refVariance","_A","_","RefImpl","constructor","ref","_a","modify","f","bodyWithTrace","trace","restore","sync","current","b","a","traced","unsafeMake","value","make","methodWithTrace","self","dualWithTrace","getAndSet","getAndUpdate","getAndUpdateSome","pf","option","_tag","setAndGet","modifySome","fallback","update","updateAndGet","result","updateSome","match","updateSomeAndGet","unsafeGet"],"sources":["../../../src/internal_effect_untraced/ref.ts"],"sourcesContent":[null],"mappings":"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"}