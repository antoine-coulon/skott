{"version":3,"file":"hub.mjs","names":["Chunk","MutableQueue","MutableRef","Debug","cause","core","fiberRuntime","queue","addSubscribers","subscription","pollers","subscribers","has","set","Set","get","add","removeSubscribers","delete","size","bounded","methodWithTrace","trace","requestedCapacity","flatMap","atomicHub","makeHub","BackPressureStrategy","sync","makeBoundedHub","traced","dropping","DroppingStrategy","sliding","SlidingStrategy","unbounded","makeUnboundedHub","capacity","self","isFull","isEmpty","shutdown","isShutdown","awaitShutdown","publish","dualWithTrace","value","publishAll","elements","subscribe","ensureCapacity","BoundedHubSingle","nextPow2","BoundedHubPow2","BoundedHubArb","UnboundedHub","makeSubscription","hub","strategy","map","deferredMake","deferred","unsafeMakeSubscription","make","shutdownHook","shutdownFlag","SubscriptionImpl","constructor","publisherIndex","subscriberCount","subscribersIndex","array","Array","from","length","index","chunk","fromIterable","n","available","forHub","Math","min","iteratorIndex","publishAllIndex","a","unsafeGet","drop","slide","BoundedHubArbSubscription","subscriberIndex","unsubscribed","max","poll","default_","elem","pollUpTo","empty","toPoll","builder","pollUpToIndex","push","unsubscribe","mask","BoundedHubPow2Subscription","unsafeHead","BoundedHubSingleSubscription","of","Node","next","publisherHead","Number","MAX_SAFE_INTEGER","publisherTail","UnboundedHubSubscription","subscriberHead","loop","polled","i","_a","dequeueVariance","bodyWithTrace","suspendSucceed","interrupt","succeed","uninterruptible","withFiberRuntime","state","asUnit","whenEffect","deferredSucceed","zipRight","unsafeOnHubEmptySpace","forEachPar","d","deferredInterruptWith","id","unsafePollAllQueue","deferredAwait","take","message","EmptyMutableQueue","deferredUnsafeMake","onInterrupt","unsafeRemove","offer","unsafeCompletePollers","takeAll","as","unsafePollAllSubscription","takeUpTo","unsafePollN","takeBetween","takeRemainderLoop","DequeueTypeId","acc","bs","remaining","b","append","concat","HubImpl","scope","_b","enqueueVariance","close","exitInterrupt","unsafeCompleteSubscribers","handleSurplus","surplus","unsafePublishAll","acquireRelease","tap","dequeue","addFinalizer","offerAll","EnqueueTypeId","scopeMake","unsafeMakeHub","Map","nextPow","ceil","log","pow","InvalidHubCapacityException","unsafeCompleteDeferred","deferredUnsafeDone","unsafeOfferAll","POSITIVE_INFINITY","filter","publishers","fiberId","forEachParDiscard","_","last","unit","unsafeOffer","keepPolling","publisher","published","prepend","unsafeStrategyCompletePollers","unsafeStrategyCompleteSubscribers","iterator","Symbol","done","_hub","_subscribers","_elements","_isShutdown","unsafeSlidingPublish","it","pub","poller","pollResult","pollersSet"],"sources":["../../../src/internal_effect_untraced/hub.ts"],"sourcesContent":[null],"mappings":"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"}