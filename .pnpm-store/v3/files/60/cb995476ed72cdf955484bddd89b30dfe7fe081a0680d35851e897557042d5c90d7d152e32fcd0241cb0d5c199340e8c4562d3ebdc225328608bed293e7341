{"version":3,"file":"runtime.js","names":["Context","_interopRequireWildcard","require","Either","Option","Debug","Exit","Fiber","FiberId","FiberRefs","CausePretty","core","FiberRuntime","fiberScope","OpCodes","runtimeFlags","_supervisor","_scheduler","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","unsafeFork","runtime","methodWithTrace","trace","self","scheduler","fiberId","unsafeMake","effect","traced","fiberRefs","updatedAs","currentContext","context","currentScheduler","fiberRuntime","forkAs","supervisor","getSupervisor","none","onStart","unsafeAddObserver","exit","onEnd","globalScope","add","start","exports","unsafeRunCallback","onExit","id","onExitInterrupt","interruptAs","flatten","unsafeRunSyncExit","SyncScheduler","flush","result","unsafePoll","die","AsyncFiber","unsafeRunSyncExitOrFiber","right","left","constructor","fiber","_tag","toString","Symbol","for","FiberFailure","Error","originalCause","limit","stackTraceLimit","_id","pretty","prettyErrors","length","name","message","split","substring","stack","unsafeRunSync","OP_FAILURE","i0","unsafeRunSyncEither","untraced","either","unsafeRunPromise","Promise","resolve","reject","OP_SUCCESS","unsafeRunPromiseExit","unsafeRunPromiseEither","RuntimeImpl","make","withFiberRuntime","state","status","succeed","getFiberRef","unsafeGetFiberRefs","defaultRuntimeFlags","Interruption","CooperativeYielding","defaultRuntime","empty","Map","unsafeRunEffect","unsafeForkEffect","unsafeRunPromiseEffect","unsafeRunPromiseEitherEffect","unsafeRunPromiseExitEffect","unsafeRunSyncEffect","unsafeRunSyncExitEffect","unsafeRunSyncEitherEffect","unsafeRunSyncExitOrFiberEffect","asyncEffect","restoreTrace","register","flatMap","deferredMake","deferred","uninterruptibleMask","restore","zipRight","fork","catchAllCause","cb","intoDeferred","cause","deferredFailCause","deferredAwait"],"sources":["../../../src/internal_effect_untraced/runtime.ts"],"sourcesContent":[null],"mappings":"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"}