/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 5.0.3
 * @date    2022-03-04T18:53:16.725Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
var t,e,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=Math.ceil,i=Math.floor,o=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)},a={},s=function(t){return t&&t.Math==Math&&t},c=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof n&&n)||function(){return this}()||Function("return this")(),l=a,u=c,h=function(t){return"function"==typeof t?t:void 0},f=function(t,e){return arguments.length<2?h(l[t])||h(u[t]):l[t]&&l[t][e]||u[t]&&u[t][e]},p=f("navigator","userAgent")||"",v=c,d=p,g=v.process,y=v.Deno,m=g&&g.versions||y&&y.version,b=m&&m.v8;b?e=(t=b.split("."))[0]<4?1:t[0]+t[1]:d&&(!(t=d.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=d.match(/Chrome\/(\d+)/))&&(e=t[1]);var k=e&&+e,w=function(t){try{return!!t()}catch(t){return!0}},C=k,E=w,O=!!Object.getOwnPropertySymbols&&!E((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&C&&C<41})),_=O&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,F=f,T=_?function(t){return"symbol"==typeof t}:function(t){var e=F("Symbol");return"function"==typeof e&&Object(t)instanceof e},A=T,x=function(t){if(A(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)},S=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},P=o,D=x,j=S,I=function(t){return function(e,n){var r,i,o=D(j(e)),a=P(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},R={codeAt:I(!1),charAt:I(!0)},M=c,N=function(t,e){try{Object.defineProperty(M,t,{value:e,configurable:!0,writable:!0})}catch(n){M[t]=e}return e},B=c["__core-js_shared__"]||N("__core-js_shared__",{}),L=B,z=Function.toString;"function"!=typeof L.inspectSource&&(L.inspectSource=function(t){return z.call(t)});var H=L.inspectSource,W=c.WeakMap,q="function"==typeof W&&/native code/.test(H(W)),Y=function(t){return"object"==typeof t?null!==t:"function"==typeof t},X=!w((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),V={},U=Y,$=c.document,G=U($)&&U($.createElement),Q=function(t){return G?$.createElement(t):{}},J=Q,K=!X&&!w((function(){return 7!=Object.defineProperty(J("div"),"a",{get:function(){return 7}}).a})),Z=Y,tt=function(t){if(!Z(t))throw TypeError(String(t)+" is not an object");return t},et=Y,nt={exports:{}},rt=B;(nt.exports=function(t,e){return rt[t]||(rt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.16.2",mode:"pure",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"});var it=S,ot=function(t){return Object(it(t))},at=ot,st={}.hasOwnProperty,ct=Object.hasOwn||function(t,e){return st.call(at(t),e)},lt=0,ut=Math.random(),ht=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++lt+ut).toString(36)},ft=c,pt=nt.exports,vt=ct,dt=ht,gt=O,yt=_,mt=pt("wks"),bt=ft.Symbol,kt=yt?bt:bt&&bt.withoutSetter||dt,wt=function(t){return vt(mt,t)&&(gt||"string"==typeof mt[t])||(gt&&vt(bt,t)?mt[t]=bt[t]:mt[t]=kt("Symbol."+t)),mt[t]},Ct=Y,Et=T,Ot=function(t,e){var n,r;if("string"===e&&"function"==typeof(n=t.toString)&&!et(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!et(r=n.call(t)))return r;if("string"!==e&&"function"==typeof(n=t.toString)&&!et(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},_t=wt("toPrimitive"),Ft=function(t,e){if(!Ct(t)||Et(t))return t;var n,r=t[_t];if(void 0!==r){if(void 0===e&&(e="default"),n=r.call(t,e),!Ct(n)||Et(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),Ot(t,e)},Tt=T,At=function(t){var e=Ft(t,"string");return Tt(e)?e:String(e)},xt=X,St=K,Pt=tt,Dt=At,jt=Object.defineProperty;V.f=xt?jt:function(t,e,n){if(Pt(t),e=Dt(e),Pt(n),St)try{return jt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var It,Rt,Mt,Nt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Bt=V,Lt=Nt,zt=X?function(t,e,n){return Bt.f(t,e,Lt(1,n))}:function(t,e,n){return t[e]=n,t},Ht=nt.exports,Wt=ht,qt=Ht("keys"),Yt=function(t){return qt[t]||(qt[t]=Wt(t))},Xt={},Vt=q,Ut=Y,$t=zt,Gt=ct,Qt=B,Jt=Yt,Kt=Xt,Zt=c.WeakMap;if(Vt||Qt.state){var te=Qt.state||(Qt.state=new Zt),ee=te.get,ne=te.has,re=te.set;It=function(t,e){if(ne.call(te,t))throw new TypeError("Object already initialized");return e.facade=t,re.call(te,t,e),e},Rt=function(t){return ee.call(te,t)||{}},Mt=function(t){return ne.call(te,t)}}else{var ie=Jt("state");Kt[ie]=!0,It=function(t,e){if(Gt(t,ie))throw new TypeError("Object already initialized");return e.facade=t,$t(t,ie,e),e},Rt=function(t){return Gt(t,ie)?t[ie]:{}},Mt=function(t){return Gt(t,ie)}}var oe={set:It,get:Rt,has:Mt,enforce:function(t){return Mt(t)?Rt(t):It(t,{})},getterFor:function(t){return function(e){var n;if(!Ut(e)||(n=Rt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},ae={},se={},ce={}.propertyIsEnumerable,le=Object.getOwnPropertyDescriptor,ue=le&&!ce.call({1:2},1);se.f=ue?function(t){var e=le(this,t);return!!e&&e.enumerable}:ce;var he={}.toString,fe=function(t){return he.call(t).slice(8,-1)},pe=fe,ve="".split,de=w((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==pe(t)?ve.call(t,""):Object(t)}:Object,ge=de,ye=S,me=function(t){return ge(ye(t))},be=X,ke=se,we=Nt,Ce=me,Ee=At,Oe=ct,_e=K,Fe=Object.getOwnPropertyDescriptor;ae.f=be?Fe:function(t,e){if(t=Ce(t),e=Ee(e),_e)try{return Fe(t,e)}catch(t){}if(Oe(t,e))return we(!ke.f.call(t,e),t[e])};var Te,Ae,xe,Se=w,Pe=/#|\.prototype\./,De=function(t,e){var n=Ie[je(t)];return n==Me||n!=Re&&("function"==typeof e?Se(e):!!e)},je=De.normalize=function(t){return String(t).replace(Pe,".").toLowerCase()},Ie=De.data={},Re=De.NATIVE="N",Me=De.POLYFILL="P",Ne=De,Be=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Le=Be,ze=function(t,e,n){if(Le(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},He=c,We=ae.f,qe=Ne,Ye=a,Xe=ze,Ve=zt,Ue=ct,$e=function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},Ge=function(t,e){var n,r,i,o,a,s,c,l,u=t.target,h=t.global,f=t.stat,p=t.proto,v=h?He:f?He[u]:(He[u]||{}).prototype,d=h?Ye:Ye[u]||(Ye[u]={}),g=d.prototype;for(i in e)n=!qe(h?i:u+(f?".":"#")+i,t.forced)&&v&&Ue(v,i),a=d[i],n&&(s=t.noTargetGet?(l=We(v,i))&&l.value:v[i]),o=n&&s?s:e[i],n&&typeof a==typeof o||(c=t.bind&&n?Xe(o,He):t.wrap&&n?$e(o):p&&"function"==typeof o?Xe(Function.call,o):o,(t.sham||o&&o.sham||a&&a.sham)&&Ve(c,"sham",!0),d[i]=c,p&&(Ue(Ye,r=u+"Prototype")||Ve(Ye,r,{}),Ye[r][i]=o,t.real&&g&&!g[i]&&Ve(g,i,o)))},Qe=!w((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Je=ct,Ke=ot,Ze=Qe,tn=Yt("IE_PROTO"),en=Object.prototype,nn=Ze?Object.getPrototypeOf:function(t){return t=Ke(t),Je(t,tn)?t[tn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?en:null},rn=w,on=nn,an=zt,sn=ct,cn=wt("iterator"),ln=!1;[].keys&&("next"in(xe=[].keys())?(Ae=on(on(xe)))!==Object.prototype&&(Te=Ae):ln=!0);var un=null==Te||rn((function(){var t={};return Te[cn].call(t)!==t}));un&&(Te={}),un&&!sn(Te,cn)&&an(Te,cn,(function(){return this}));var hn,fn={IteratorPrototype:Te,BUGGY_SAFARI_ITERATORS:ln},pn=o,vn=Math.min,dn=function(t){return t>0?vn(pn(t),9007199254740991):0},gn=o,yn=Math.max,mn=Math.min,bn=function(t,e){var n=gn(t);return n<0?yn(n+e,0):mn(n,e)},kn=me,wn=dn,Cn=bn,En=function(t){return function(e,n,r){var i,o=kn(e),a=wn(o.length),s=Cn(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},On={includes:En(!0),indexOf:En(!1)},_n=ct,Fn=me,Tn=On.indexOf,An=Xt,xn=function(t,e){var n,r=Fn(t),i=0,o=[];for(n in r)!_n(An,n)&&_n(r,n)&&o.push(n);for(;e.length>i;)_n(r,n=e[i++])&&(~Tn(o,n)||o.push(n));return o},Sn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Pn=xn,Dn=Sn,jn=Object.keys||function(t){return Pn(t,Dn)},In=V,Rn=tt,Mn=jn,Nn=X?Object.defineProperties:function(t,e){Rn(t);for(var n,r=Mn(e),i=r.length,o=0;i>o;)In.f(t,n=r[o++],e[n]);return t},Bn=f("document","documentElement"),Ln=tt,zn=Nn,Hn=Sn,Wn=Xt,qn=Bn,Yn=Q,Xn=Yt("IE_PROTO"),Vn=function(){},Un=function(t){return"<script>"+t+"<\/script>"},$n=function(t){t.write(Un("")),t.close();var e=t.parentWindow.Object;return t=null,e},Gn=function(){try{hn=new ActiveXObject("htmlfile")}catch(t){}var t,e;Gn="undefined"!=typeof document?document.domain&&hn?$n(hn):((e=Yn("iframe")).style.display="none",qn.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Un("document.F=Object")),t.close(),t.F):$n(hn);for(var n=Hn.length;n--;)delete Gn.prototype[Hn[n]];return Gn()};Wn[Xn]=!0;var Qn=Object.create||function(t,e){var n;return null!==t?(Vn.prototype=Ln(t),n=new Vn,Vn.prototype=null,n[Xn]=t):n=Gn(),void 0===e?n:zn(n,e)},Jn={};Jn[wt("toStringTag")]="z";var Kn="[object z]"===String(Jn),Zn=Kn,tr=fe,er=wt("toStringTag"),nr="Arguments"==tr(function(){return arguments}()),rr=Zn?tr:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),er))?n:nr?tr(e):"Object"==(r=tr(e))&&"function"==typeof e.callee?"Arguments":r},ir=rr,or=Kn?{}.toString:function(){return"[object "+ir(this)+"]"},ar=Kn,sr=V.f,cr=zt,lr=ct,ur=or,hr=wt("toStringTag"),fr=function(t,e,n,r){if(t){var i=n?t:t.prototype;lr(i,hr)||sr(i,hr,{configurable:!0,value:e}),r&&!ar&&cr(i,"toString",ur)}},pr={},vr=fn.IteratorPrototype,dr=Qn,gr=Nt,yr=fr,mr=pr,br=function(){return this};Object.setPrototypeOf||"__proto__"in{}&&function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}}();var kr=zt,wr=function(t,e,n,r){r&&r.enumerable?t[e]=n:kr(t,e,n)},Cr=Ge,Er=function(t,e,n){var r=e+" Iterator";return t.prototype=dr(vr,{next:gr(1,n)}),yr(t,r,!1,!0),mr[r]=br,t},Or=nn,_r=fr,Fr=zt,Tr=wr,Ar=pr,xr=fn.IteratorPrototype,Sr=fn.BUGGY_SAFARI_ITERATORS,Pr=wt("iterator"),Dr=function(){return this},jr=function(t,e,n,r,i,o,a){Er(n,e,r);var s,c,l,u=function(t){if(t===i&&d)return d;if(!Sr&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",f=!1,p=t.prototype,v=p[Pr]||p["@@iterator"]||i&&p[i],d=!Sr&&v||u(i),g="Array"==e&&p.entries||v;if(g&&(s=Or(g.call(new t)),xr!==Object.prototype&&s.next&&(_r(s,h,!0,!0),Ar[h]=Dr)),"values"==i&&v&&"values"!==v.name&&(f=!0,d=function(){return v.call(this)}),a&&p[Pr]!==d&&Fr(p,Pr,d),Ar[e]=d,i)if(c={values:u("values"),keys:o?d:u("keys"),entries:u("entries")},a)for(l in c)(Sr||f||!(l in p))&&Tr(p,l,c[l]);else Cr({target:e,proto:!0,forced:Sr||f},c);return c},Ir=R.charAt,Rr=x,Mr=oe,Nr=jr,Br=Mr.set,Lr=Mr.getterFor("String Iterator");Nr(String,"String",(function(t){Br(this,{type:"String Iterator",string:Rr(t),index:0})}),(function(){var t,e=Lr(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Ir(n,r),e.index+=t.length,{value:t,done:!1})}));var zr=tt,Hr=tt,Wr=function(t){var e=t.return;if(void 0!==e)return zr(e.call(t)).value},qr=pr,Yr=wt("iterator"),Xr=Array.prototype,Vr=At,Ur=V,$r=Nt,Gr=function(t,e,n){var r=Vr(e);r in t?Ur.f(t,r,$r(0,n)):t[r]=n},Qr=rr,Jr=pr,Kr=wt("iterator"),Zr=function(t){if(null!=t)return t[Kr]||t["@@iterator"]||Jr[Qr(t)]},ti=ze,ei=ot,ni=function(t,e,n,r){try{return r?e(Hr(n)[0],n[1]):e(n)}catch(e){throw Wr(t),e}},ri=function(t){return void 0!==t&&(qr.Array===t||Xr[Yr]===t)},ii=dn,oi=Gr,ai=Zr,si=wt("iterator"),ci=!1;try{var li=0,ui={next:function(){return{done:!!li++}},return:function(){ci=!0}};ui[si]=function(){return this},Array.from(ui,(function(){throw 2}))}catch(t){}var hi=function(t){var e,n,r,i,o,a,s=ei(t),c="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,h=void 0!==u,f=ai(s),p=0;if(h&&(u=ti(u,l>2?arguments[2]:void 0,2)),null==f||c==Array&&ri(f))for(n=new c(e=ii(s.length));e>p;p++)a=h?u(s[p],p):s[p],oi(n,p,a);else for(o=(i=f.call(s)).next,n=new c;!(r=o.call(i)).done;p++)a=h?ni(i,u,[r.value,p],!0):r.value,oi(n,p,a);return n.length=p,n};Ge({target:"Array",stat:!0,forced:!function(t,e){if(!e&&!ci)return!1;var n=!1;try{var r={};r[si]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){Array.from(t)}))},{from:hi});var fi=a.Array.from,pi=fi,vi=me,di=pr,gi=oe,yi=jr,mi=gi.set,bi=gi.getterFor("Array Iterator");yi(Array,"Array",(function(t,e){mi(this,{type:"Array Iterator",target:vi(t),index:0,kind:e})}),(function(){var t=bi(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),di.Arguments=di.Array;var ki=Zr,wi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ci=c,Ei=rr,Oi=zt,_i=pr,Fi=wt("toStringTag");for(var Ti in wi){var Ai=Ci[Ti],xi=Ai&&Ai.prototype;xi&&Ei(xi)!==Fi&&Oi(xi,Fi,Ti),_i[Ti]=_i.Array}var Si=ki,Pi=fe,Di=Array.isArray||function(t){return"Array"==Pi(t)},ji=Y,Ii=Di,Ri=wt("species"),Mi=function(t){var e;return Ii(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Ii(e.prototype)?ji(e)&&null===(e=e[Ri])&&(e=void 0):e=void 0),void 0===e?Array:e},Ni=function(t,e){return new(Mi(t))(0===e?0:e)},Bi=w,Li=k,zi=wt("species"),Hi=function(t){return Li>=51||!Bi((function(){var e=[];return(e.constructor={})[zi]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Wi=Ge,qi=w,Yi=Di,Xi=Y,Vi=ot,Ui=dn,$i=Gr,Gi=Ni,Qi=Hi,Ji=k,Ki=wt("isConcatSpreadable"),Zi=Ji>=51||!qi((function(){var t=[];return t[Ki]=!1,t.concat()[0]!==t})),to=Qi("concat"),eo=function(t){if(!Xi(t))return!1;var e=t[Ki];return void 0!==e?!!e:Yi(t)};Wi({target:"Array",proto:!0,forced:!Zi||!to},{concat:function(t){var e,n,r,i,o,a=Vi(this),s=Gi(a,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(eo(o=-1===e?a:arguments[e])){if(c+(i=Ui(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,c++)n in o&&$i(s,c,o[n])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");$i(s,c++,o)}return s.length=c,s}});var no={},ro=xn,io=Sn.concat("length","prototype");no.f=Object.getOwnPropertyNames||function(t){return ro(t,io)};var oo={},ao=me,so=no.f,co={}.toString,lo="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];oo.f=function(t){return lo&&"[object Window]"==co.call(t)?function(t){try{return so(t)}catch(t){return lo.slice()}}(t):so(ao(t))};var uo={};uo.f=Object.getOwnPropertySymbols;var ho={},fo=wt;ho.f=fo;var po=a,vo=ct,go=ho,yo=V.f,mo=function(t){var e=po.Symbol||(po.Symbol={});vo(e,t)||yo(e,t,{value:go.f(t)})},bo=ze,ko=de,wo=ot,Co=dn,Eo=Ni,Oo=[].push,_o=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(c,l,u,h){for(var f,p,v=wo(c),d=ko(v),g=bo(l,u,3),y=Co(d.length),m=0,b=h||Eo,k=e?b(c,y):n||a?b(c,0):void 0;y>m;m++)if((s||m in d)&&(p=g(f=d[m],m,v),t))if(e)k[m]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return m;case 2:Oo.call(k,f)}else switch(t){case 4:return!1;case 7:Oo.call(k,f)}return o?-1:r||i?i:k}},Fo={forEach:_o(0),map:_o(1),filter:_o(2),some:_o(3),every:_o(4),find:_o(5),findIndex:_o(6),filterReject:_o(7)},To=Ge,Ao=c,xo=f,So=X,Po=O,Do=w,jo=ct,Io=Di,Ro=Y,Mo=T,No=tt,Bo=ot,Lo=me,zo=At,Ho=x,Wo=Nt,qo=Qn,Yo=jn,Xo=no,Vo=oo,Uo=uo,$o=ae,Go=V,Qo=se,Jo=zt,Ko=wr,Zo=nt.exports,ta=Xt,ea=ht,na=wt,ra=ho,ia=mo,oa=fr,aa=oe,sa=Fo.forEach,ca=Yt("hidden"),la=na("toPrimitive"),ua=aa.set,ha=aa.getterFor("Symbol"),fa=Object.prototype,pa=Ao.Symbol,va=xo("JSON","stringify"),da=$o.f,ga=Go.f,ya=Vo.f,ma=Qo.f,ba=Zo("symbols"),ka=Zo("op-symbols"),wa=Zo("string-to-symbol-registry"),Ca=Zo("symbol-to-string-registry"),Ea=Zo("wks"),Oa=Ao.QObject,_a=!Oa||!Oa.prototype||!Oa.prototype.findChild,Fa=So&&Do((function(){return 7!=qo(ga({},"a",{get:function(){return ga(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=da(fa,e);r&&delete fa[e],ga(t,e,n),r&&t!==fa&&ga(fa,e,r)}:ga,Ta=function(t,e){var n=ba[t]=qo(pa.prototype);return ua(n,{type:"Symbol",tag:t,description:e}),So||(n.description=e),n},Aa=function(t,e,n){t===fa&&Aa(ka,e,n),No(t);var r=zo(e);return No(n),jo(ba,r)?(n.enumerable?(jo(t,ca)&&t[ca][r]&&(t[ca][r]=!1),n=qo(n,{enumerable:Wo(0,!1)})):(jo(t,ca)||ga(t,ca,Wo(1,{})),t[ca][r]=!0),Fa(t,r,n)):ga(t,r,n)},xa=function(t,e){No(t);var n=Lo(e),r=Yo(n).concat(ja(n));return sa(r,(function(e){So&&!Sa.call(n,e)||Aa(t,e,n[e])})),t},Sa=function(t){var e=zo(t),n=ma.call(this,e);return!(this===fa&&jo(ba,e)&&!jo(ka,e))&&(!(n||!jo(this,e)||!jo(ba,e)||jo(this,ca)&&this[ca][e])||n)},Pa=function(t,e){var n=Lo(t),r=zo(e);if(n!==fa||!jo(ba,r)||jo(ka,r)){var i=da(n,r);return!i||!jo(ba,r)||jo(n,ca)&&n[ca][r]||(i.enumerable=!0),i}},Da=function(t){var e=ya(Lo(t)),n=[];return sa(e,(function(t){jo(ba,t)||jo(ta,t)||n.push(t)})),n},ja=function(t){var e=t===fa,n=ya(e?ka:Lo(t)),r=[];return sa(n,(function(t){!jo(ba,t)||e&&!jo(fa,t)||r.push(ba[t])})),r};(Po||(Ko((pa=function(){if(this instanceof pa)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Ho(arguments[0]):void 0,e=ea(t),n=function(t){this===fa&&n.call(ka,t),jo(this,ca)&&jo(this[ca],e)&&(this[ca][e]=!1),Fa(this,e,Wo(1,t))};return So&&_a&&Fa(fa,e,{configurable:!0,set:n}),Ta(e,t)}).prototype,"toString",(function(){return ha(this).tag})),Ko(pa,"withoutSetter",(function(t){return Ta(ea(t),t)})),Qo.f=Sa,Go.f=Aa,$o.f=Pa,Xo.f=Vo.f=Da,Uo.f=ja,ra.f=function(t){return Ta(na(t),t)},So&&ga(pa.prototype,"description",{configurable:!0,get:function(){return ha(this).description}})),To({global:!0,wrap:!0,forced:!Po,sham:!Po},{Symbol:pa}),sa(Yo(Ea),(function(t){ia(t)})),To({target:"Symbol",stat:!0,forced:!Po},{for:function(t){var e=Ho(t);if(jo(wa,e))return wa[e];var n=pa(e);return wa[e]=n,Ca[n]=e,n},keyFor:function(t){if(!Mo(t))throw TypeError(t+" is not a symbol");if(jo(Ca,t))return Ca[t]},useSetter:function(){_a=!0},useSimple:function(){_a=!1}}),To({target:"Object",stat:!0,forced:!Po,sham:!So},{create:function(t,e){return void 0===e?qo(t):xa(qo(t),e)},defineProperty:Aa,defineProperties:xa,getOwnPropertyDescriptor:Pa}),To({target:"Object",stat:!0,forced:!Po},{getOwnPropertyNames:Da,getOwnPropertySymbols:ja}),To({target:"Object",stat:!0,forced:Do((function(){Uo.f(1)}))},{getOwnPropertySymbols:function(t){return Uo.f(Bo(t))}}),va)&&To({target:"JSON",stat:!0,forced:!Po||Do((function(){var t=pa();return"[null]"!=va([t])||"{}"!=va({a:t})||"{}"!=va(Object(t))}))},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(Ro(e)||void 0!==t)&&!Mo(t))return Io(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Mo(e))return e}),i[1]=e,va.apply(null,i)}});pa.prototype[la]||Jo(pa.prototype,la,pa.prototype.valueOf),oa(pa,"Symbol"),ta[ca]=!0,mo("asyncIterator"),mo("hasInstance"),mo("isConcatSpreadable"),mo("iterator"),mo("match"),mo("matchAll"),mo("replace"),mo("search"),mo("species"),mo("split"),mo("toPrimitive"),mo("toStringTag"),mo("unscopables"),fr(c.JSON,"JSON",!0);var Ia=a.Symbol;mo("asyncDispose"),mo("dispose"),mo("matcher"),mo("metadata"),mo("observable"),mo("patternMatch"),mo("replaceAll");var Ra=Ia,Ma=ho.f("iterator");function Na(t){return(Na="function"==typeof Ra&&"symbol"==typeof Ma?function(t){return typeof t}:function(t){return t&&"function"==typeof Ra&&t.constructor===Ra&&t!==Ra.prototype?"symbol":typeof t})(t)}Ge({target:"Array",stat:!0},{isArray:Di});var Ba=a.Array.isArray,La=Ba;function za(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ha=fi;var Wa=Ge,qa=Y,Ya=Di,Xa=bn,Va=dn,Ua=me,$a=Gr,Ga=wt,Qa=Hi("slice"),Ja=Ga("species"),Ka=[].slice,Za=Math.max;Wa({target:"Array",proto:!0,forced:!Qa},{slice:function(t,e){var n,r,i,o=Ua(this),a=Va(o.length),s=Xa(t,a),c=Xa(void 0===e?a:e,a);if(Ya(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Ya(n.prototype)?qa(n)&&null===(n=n[Ja])&&(n=void 0):n=void 0,n===Array||void 0===n))return Ka.call(o,s,c);for(r=new(void 0===n?Array:n)(Za(c-s,0)),i=0;s<c;s++,i++)s in o&&$a(r,i,o[s]);return r.length=i,r}});var ts=a,es=function(t){return ts[t+"Prototype"]},ns=es("Array").slice,rs=Array.prototype,is=function(t){var e=t.slice;return t===rs||t instanceof Array&&e===rs.slice?ns:e},os=is;function as(t,e){var n;if(t){if("string"==typeof t)return za(t,e);var r=os(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Ha(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?za(t,e):void 0}}function ss(t){return function(t){if(La(t))return za(t)}(t)||function(t){if(void 0!==Ra&&null!=Si(t)||null!=t["@@iterator"])return Ha(t)}(t)||as(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cs=Ia,ls=es("Array").concat,us=Array.prototype,hs=function(t){var e=t.concat;return t===us||t instanceof Array&&e===us.concat?ls:e},fs=is,ps=no,vs=uo,ds=tt,gs=f("Reflect","ownKeys")||function(t){var e=ps.f(ds(t)),n=vs.f;return n?e.concat(n(t)):e};Ge({target:"Reflect",stat:!0},{ownKeys:gs});var ys=a.Reflect.ownKeys,ms=Ba,bs=Fo.map;Ge({target:"Array",proto:!0,forced:!Hi("map")},{map:function(t){return bs(this,t,arguments.length>1?arguments[1]:void 0)}});var ks=es("Array").map,ws=Array.prototype,Cs=function(t){var e=t.map;return t===ws||t instanceof Array&&e===ws.map?ks:e},Es=ot,Os=jn;Ge({target:"Object",stat:!0,forced:w((function(){Os(1)}))},{keys:function(t){return Os(Es(t))}});var _s=a.Object.keys;function Fs(t,e){var n=void 0!==cs&&Si(t)||t["@@iterator"];if(!n){if(ms(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Ts(t,e);var r=fs(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return pi(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ts(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ts(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var As=cs("DELETE");function xs(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ss.apply(void 0,hs(e=[{},t]).call(e,r))}function Ss(){var t=Ps.apply(void 0,arguments);return js(t),t}function Ps(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<2)return e[0];var r;if(e.length>2)return Ps.apply(void 0,hs(r=[Ss(e[0],e[1])]).call(r,ss(fs(e).call(e,2))));var i,o=e[0],a=e[1],s=Fs(ys(a));try{for(s.s();!(i=s.n()).done;){var c=i.value;Object.prototype.propertyIsEnumerable.call(a,c)&&(a[c]===As?delete o[c]:null===o[c]||null===a[c]||"object"!==Na(o[c])||"object"!==Na(a[c])||ms(o[c])||ms(a[c])?o[c]=Ds(a[c]):o[c]=Ps(o[c],a[c]))}}catch(t){s.e(t)}finally{s.f()}return o}function Ds(t){return ms(t)?Cs(t).call(t,(function(t){return Ds(t)})):"object"===Na(t)&&null!==t?Ps({},t):t}function js(t){for(var e=0,n=_s(t);e<n.length;e++){var r=n[e];t[r]===As?delete t[r]:"object"===Na(t[r])&&null!==t[r]&&js(t[r])}}function Is(t,e){return function(t){if(La(t))return t}(t)||function(t,e){var n=null==t?null:void 0!==Ra&&Si(t)||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||as(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Ge({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var Rs=a.Date.now;function Ms(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ns(e.length?e:[Rs()])}function Ns(t){var e=Is(function(){for(var t=Bs(),e=t(" "),n=t(" "),r=t(" "),i=0;i<arguments.length;i++)(e-=t(i<0||arguments.length<=i?void 0:arguments[i]))<0&&(e+=1),(n-=t(i<0||arguments.length<=i?void 0:arguments[i]))<0&&(n+=1),(r-=t(i<0||arguments.length<=i?void 0:arguments[i]))<0&&(r+=1);return[e,n,r]}(t),3),n=e[0],r=e[1],i=e[2],o=1,a=function(){var t=2091639*n+2.3283064365386963e-10*o;return n=r,r=i,i=t-(o=0|t)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=t,a.version="0.9",a}function Bs(){var t=4022871197;return function(e){for(var n=e.toString(),r=0;r<n.length;r++){var i=.02519603282416938*(t+=n.charCodeAt(r));i-=t=i>>>0,t=(i*=t)>>>0,t+=4294967296*(i-=t)}return 2.3283064365386963e-10*(t>>>0)}}var Ls=Be,zs=Y,Hs=[].slice,Ws={},qs=function(t,e,n){if(!(e in Ws)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";Ws[e]=Function("C,a","return new C("+r.join(",")+")")}return Ws[e](t,n)};Ge({target:"Function",proto:!0},{bind:Function.bind||function(t){var e=Ls(this),n=Hs.call(arguments,1),r=function(){var i=n.concat(Hs.call(arguments));return this instanceof r?qs(e,i.length,i):e.apply(t,i)};return zs(e.prototype)&&(r.prototype=e.prototype),r}});var Ys=es("Function").bind,Xs=Function.prototype,Vs=function(t){var e=t.bind;return t===Xs||t instanceof Function&&e===Xs.bind?Ys:e},Us=w,$s=function(t,e){var n=[][t];return!!n&&Us((function(){n.call(null,e||function(){throw 1},1)}))},Gs=Fo.forEach,Qs=$s("forEach")?[].forEach:function(t){return Gs(this,t,arguments.length>1?arguments[1]:void 0)};Ge({target:"Array",proto:!0,forced:[].forEach!=Qs},{forEach:Qs});var Js=es("Array").forEach,Ks=rr,Zs=Array.prototype,tc={DOMTokenList:!0,NodeList:!0},ec=function(t){var e=t.forEach;return t===Zs||t instanceof Array&&e===Zs.forEach||tc.hasOwnProperty(Ks(t))?Js:e},nc=Di,rc=[].reverse,ic=[1,2];Ge({target:"Array",proto:!0,forced:String(ic)===String(ic.reverse())},{reverse:function(){return nc(this)&&(this.length=this.length),rc.call(this)}});var oc=es("Array").reverse,ac=Array.prototype,sc=function(t){var e=t.reverse;return t===ac||t instanceof Array&&e===ac.reverse?oc:e},cc=Ge,lc=bn,uc=o,hc=dn,fc=ot,pc=Ni,vc=Gr,dc=Hi("splice"),gc=Math.max,yc=Math.min;cc({target:"Array",proto:!0,forced:!dc},{splice:function(t,e){var n,r,i,o,a,s,c=fc(this),l=hc(c.length),u=lc(t,l),h=arguments.length;if(0===h?n=r=0:1===h?(n=0,r=l-u):(n=h-2,r=yc(gc(uc(e),0),l-u)),l+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=pc(c,r),o=0;o<r;o++)(a=u+o)in c&&vc(i,o,c[a]);if(i.length=r,n<r){for(o=u;o<l-r;o++)s=o+n,(a=o+r)in c?c[s]=c[a]:delete c[s];for(o=l;o>l-r+n;o--)delete c[o-1]}else if(n>r)for(o=l-r;o>u;o--)s=o+n-1,(a=o+r-1)in c?c[s]=c[a]:delete c[s];for(o=0;o<n;o++)c[o+u]=arguments[o+2];return c.length=l-r+n,i}});var mc=es("Array").splice,bc=Array.prototype,kc=function(t){var e=t.splice;return t===bc||t instanceof Array&&e===bc.splice?mc:e},wc={exports:{}};!function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}wc.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}();var Cc=wc.exports;
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Ec(){return(Ec=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Oc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function _c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Fc,Tc="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign,Ac=["","webkit","Moz","MS","ms","o"],xc="undefined"==typeof document?{style:{}}:document.createElement("div"),Sc=Math.round,Pc=Math.abs,Dc=Date.now;function jc(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<Ac.length;){if((r=(n=Ac[o])?n+i:e)in t)return r;o++}}Fc="undefined"==typeof window?{}:window;var Ic=jc(xc.style,"touchAction"),Rc=void 0!==Ic;var Mc=function(){if(!Rc)return!1;var t={},e=Fc.CSS&&Fc.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return t[n]=!e||Fc.CSS.supports("touch-action",n)})),t}(),Nc="ontouchstart"in Fc,Bc=void 0!==jc(Fc,"PointerEvent"),Lc=Nc&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),zc=["x","y"],Hc=["clientX","clientY"];function Wc(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function qc(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function Yc(t,e){return t.indexOf(e)>-1}var Xc=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){"compute"===t&&(t=this.compute()),Rc&&this.manager.element.style&&Mc[t]&&(this.manager.element.style[Ic]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Wc(this.manager.recognizers,(function(e){qc(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(Yc(t,"none"))return"none";var e=Yc(t,"pan-x"),n=Yc(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":Yc(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=Yc(r,"none")&&!Mc.none,o=Yc(r,"pan-y")&&!Mc["pan-y"],a=Yc(r,"pan-x")&&!Mc["pan-x"];if(i){var s=1===t.pointers.length,c=t.distance<2,l=t.deltaTime<250;if(s&&c&&l)return}if(!a||!o)return i||o&&6&n||a&&24&n?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Vc(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Uc(t){var e=t.length;if(1===e)return{x:Sc(t[0].clientX),y:Sc(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:Sc(n/e),y:Sc(r/e)}}function $c(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:Sc(t.pointers[n].clientX),clientY:Sc(t.pointers[n].clientY)},n++;return{timeStamp:Dc(),pointers:e,center:Uc(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Gc(t,e,n){n||(n=zc);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function Qc(t,e,n){n||(n=zc);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}function Jc(t,e){return t===e?1:Pc(t)>=Pc(e)?t<0?2:4:e<0?8:16}function Kc(t,e,n){return{x:e/t||0,y:n/t||0}}function Zc(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=$c(e)),i>1&&!n.firstMultiple?n.firstMultiple=$c(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=e.center=Uc(r);e.timeStamp=Dc(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Qc(s,c),e.distance=Gc(s,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=Jc(e.deltaX,e.deltaY);var l,u,h=Kc(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=Pc(h.x)>Pc(h.y)?h.x:h.y,e.scale=a?(l=a.pointers,Gc((u=r)[0],u[1],Hc)/Gc(l[0],l[1],Hc)):1,e.rotation=a?function(t,e){return Qc(e[1],e[0],Hc)+Qc(t[1],t[0],Hc)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!==e.eventType&&(s>25||void 0===a.velocity)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,u=Kc(s,c,l);r=u.x,i=u.y,n=Pc(u.x)>Pc(u.y)?u.x:u.y,o=Jc(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var f,p=t.element,v=e.srcEvent;Vc(f=v.composedPath?v.composedPath()[0]:v.path?v.path[0]:v.target,p)&&(p=f),e.target=p}function tl(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,a=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,Zc(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function el(t){return t.trim().split(/\s+/g)}function nl(t,e,n){Wc(el(e),(function(e){t.addEventListener(e,n,!1)}))}function rl(t,e,n){Wc(el(e),(function(e){t.removeEventListener(e,n,!1)}))}function il(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var ol=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){qc(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&nl(this.element,this.evEl,this.domHandler),this.evTarget&&nl(this.target,this.evTarget,this.domHandler),this.evWin&&nl(il(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&rl(this.element,this.evEl,this.domHandler),this.evTarget&&rl(this.target,this.evTarget,this.domHandler),this.evWin&&rl(il(this.element),this.evWin,this.domHandler)},t}();function al(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}var sl={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},cl={2:"touch",3:"pen",4:"mouse",5:"kinect"},ll="pointerdown",ul="pointermove pointerup pointercancel";Fc.MSPointerEvent&&!Fc.PointerEvent&&(ll="MSPointerDown",ul="MSPointerMove MSPointerUp MSPointerCancel");var hl=function(t){function e(){var n,r=e.prototype;return r.evEl=ll,r.evWin=ul,(n=t.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return Oc(e,t),e.prototype.handler=function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=sl[r],o=cl[t.pointerType]||t.pointerType,a="touch"===o,s=al(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))},e}(ol);function fl(t){return Array.prototype.slice.call(t,0)}function pl(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];al(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}var vl={touchstart:1,touchmove:2,touchend:4,touchcancel:8},dl=function(t){function e(){var n;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).targetIds={},n}return Oc(e,t),e.prototype.handler=function(t){var e=vl[t.type],n=gl.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})},e}(ol);function gl(t,e){var n,r,i=fl(t.touches),o=this.targetIds;if(3&e&&1===i.length)return o[i[0].identifier]=!0,[i,i];var a=fl(t.changedTouches),s=[],c=this.target;if(r=i.filter((function(t){return Vc(t.target,c)})),1===e)for(n=0;n<r.length;)o[r[n].identifier]=!0,n++;for(n=0;n<a.length;)o[a[n].identifier]&&s.push(a[n]),12&e&&delete o[a[n].identifier],n++;return s.length?[pl(r.concat(s),"identifier",!0),s]:void 0}var yl={mousedown:1,mousemove:2,mouseup:4},ml=function(t){function e(){var n,r=e.prototype;return r.evEl="mousedown",r.evWin="mousemove mouseup",(n=t.apply(this,arguments)||this).pressed=!1,n}return Oc(e,t),e.prototype.handler=function(t){var e=yl[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))},e}(ol);function bl(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},r=this.lastTouches;this.lastTouches.push(n);setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function kl(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,bl.call(this,e)):12&t&&bl.call(this,e)}function wl(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}var Cl=function(){return function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).handler=function(t,e,n){var i="touch"===n.pointerType,o="mouse"===n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)kl.call(_c(_c(r)),e,n);else if(o&&wl.call(_c(_c(r)),n))return;r.callback(t,e,n)}},r.touch=new dl(r.manager,r.handler),r.mouse=new ml(r.manager,r.handler),r.primaryTouch=null,r.lastTouches=[],r}return Oc(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(ol)}();function El(t,e,n){return!!Array.isArray(t)&&(Wc(t,n[e],n),!0)}var Ol=1;function _l(t,e){var n=e.manager;return n?n.get(t):t}function Fl(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Tl=function(){function t(t){void 0===t&&(t={}),this.options=Ec({enable:!0},t),this.id=Ol++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Tc(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(El(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=_l(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return El(t,"dropRecognizeWith",this)||(t=_l(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(El(t,"requireFailure",this))return this;var e=this.requireFail;return-1===al(e,t=_l(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(El(t,"dropRequireFailure",this))return this;t=_l(t,this);var e=al(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+Fl(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+Fl(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Tc({},t);if(!qc(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Al=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Ec({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}Oc(e,t);var n=e.prototype;return n.getTouchAction=function(){return["manipulation"]},n.process=function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&o&&r){if(4!==t.eventType)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<n.interval,s=!this.pCenter||Gc(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.interval),2):8}return 32},n.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=32}),this.options.interval),32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Tl),xl=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Ec({pointers:1},e))||this}Oc(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32},e}(Tl);function Sl(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}var Pl=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Ec({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,n.pY=null,n}Oc(e,t);var n=e.prototype;return n.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},n.directionTest=function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!==this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!==this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},n.attrTest=function(t){return xl.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},n.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=Sl(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},e}(xl),Dl=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Ec({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}Oc(e,t);var n=e.prototype;return n.getTouchAction=function(){return Pl.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,r=this.options.direction;return 30&r?n=e.overallVelocity:6&r?n=e.overallVelocityX:24&r&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&r&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Pc(n)>this.options.velocity&&4&e.eventType},n.emit=function(t){var e=Sl(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(xl),jl=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Ec({event:"pinch",threshold:0,pointers:2},e))||this}Oc(e,t);var n=e.prototype;return n.getTouchAction=function(){return["none"]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},n.emit=function(e){if(1!==e.scale){var n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}t.prototype.emit.call(this,e)},e}(xl),Il=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Ec({event:"rotate",threshold:0,pointers:2},e))||this}Oc(e,t);var n=e.prototype;return n.getTouchAction=function(){return["none"]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(xl),Rl=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Ec({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,n._input=null,n}Oc(e,t);var n=e.prototype;return n.getTouchAction=function(){return["auto"]},n.process=function(t){var e=this,n=this.options,r=t.pointers.length===n.pointers,i=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!i||!r||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.time);else if(4&t.eventType)return 8;return 32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Dc(),this.manager.emit(this.options.event,this._input)))},e}(Tl),Ml={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Nl=[[Il,{enable:!1}],[jl,{enable:!1},["rotate"]],[Dl,{direction:6}],[Pl,{direction:6},["swipe"]],[Al],[Al,{event:"doubletap",taps:2},["tap"]],[Rl]];function Bl(t,e){var n,r=t.element;r.style&&(Wc(t.options.cssProps,(function(i,o){n=jc(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}var Ll=function(){function t(t,e){var n,r=this;this.options=Tc({},Ml,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(Bc?hl:Lc?dl:Nc?Cl:ml))(n,tl),this.touchAction=new Xc(this,this.options.touchAction),Bl(this,!0),Wc(this.options.recognizers,(function(t){var e=r.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Tc(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(e.curRecognizer=null,i=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!==i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(e.curRecognizer=n,i=n),o++}},e.get=function(t){if(t instanceof Tl)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(El(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(El(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,r=al(n,e);-1!==r&&(n.splice(r,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return Wc(el(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return Wc(el(t),(function(t){e?n[t]&&n[t].splice(al(n[t],e),1):delete n[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},e.destroy=function(){this.element&&Bl(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),zl={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Hl=function(t){function e(){var n,r=e.prototype;return r.evTarget="touchstart",r.evWin="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).started=!1,n}return Oc(e,t),e.prototype.handler=function(t){var e=zl[t.type];if(1===e&&(this.started=!0),this.started){var n=Wl.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}},e}(ol);function Wl(t,e){var n=fl(t.touches),r=fl(t.changedTouches);return 12&e&&(n=pl(n.concat(r),"identifier",!0)),[n,r]}function ql(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=window.console&&(window.console.warn||window.console.log);return i&&i.call(window.console,r,n),t.apply(this,arguments)}}var Yl=ql((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),Xl=ql((function(t,e){return Yl(t,e,!0)}),"merge","Use `assign`.");function Vl(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&Tc(r,n)}function Ul(t,e){return function(){return t.apply(e,arguments)}}var $l=function(){var t=function(t,e){return void 0===e&&(e={}),new Ll(t,Ec({recognizers:Nl.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=16,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=24,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=16,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=32,t.Manager=Ll,t.Input=ol,t.TouchAction=Xc,t.TouchInput=dl,t.MouseInput=ml,t.PointerEventInput=hl,t.TouchMouseInput=Cl,t.SingleTouchInput=Hl,t.Recognizer=Tl,t.AttrRecognizer=xl,t.Tap=Al,t.Pan=Pl,t.Swipe=Dl,t.Pinch=jl,t.Rotate=Il,t.Press=Rl,t.on=nl,t.off=rl,t.each=Wc,t.merge=Xl,t.extend=Yl,t.bindFn=Ul,t.assign=Tc,t.inherit=Vl,t.bindFn=Ul,t.prefixed=jc,t.toArray=fl,t.inArray=al,t.uniqueArray=pl,t.splitStr=el,t.boolOrFn=qc,t.hasParent=Vc,t.addEventListeners=nl,t.removeEventListeners=rl,t.defaults=Tc({},Ml,{preset:Nl}),t}();var Gl="undefined"!=typeof window?window.Hammer||$l:function(){return{on:t=function(){},off:t,destroy:t,emit:t,get:function(){return{set:t}}};var t};function Ql(t,e){var n=void 0!==cs&&Si(t)||t["@@iterator"];if(!n){if(ms(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Jl(t,e);var r=fs(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return pi(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jl(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Jl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kl(t){var e,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)}));var r=Gl(this._dom.overlay);r.on("tap",Vs(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){r.destroy()}));var i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];ec(i).call(i,(function(t){r.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",n._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&n.deactivate()}}function Zl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Cc(Kl.prototype),Kl.current=null,Kl.prototype.destroy=function(){var t,e;this.deactivate();var n,r=Ql(sc(t=kc(e=this._cleanupQueue).call(e,0)).call(t));try{for(r.s();!(n=r.n()).done;){(0,n.value)()}}catch(t){r.e(t)}finally{r.f()}},Kl.prototype.activate=function(){Kl.current&&Kl.current.deactivate(),Kl.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Kl.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Kl.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var tu={exports:{}};Ge({target:"Object",stat:!0,forced:!X,sham:!X},{defineProperty:V.f});var eu=a.Object,nu=tu.exports=function(t,e,n){return eu.defineProperty(t,e,n)};eu.defineProperty.sham&&(nu.sham=!0);var ru=tu.exports,iu=ru;function ou(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),iu(t,r.key,r)}}function au(t,e,n){return e&&ou(t.prototype,e),n&&ou(t,n),t}var su=Ge,cu=w,lu=f("JSON","stringify"),uu=/[\uD800-\uDFFF]/g,hu=/^[\uD800-\uDBFF]$/,fu=/^[\uDC00-\uDFFF]$/,pu=function(t,e,n){var r=n.charAt(e-1),i=n.charAt(e+1);return hu.test(t)&&!fu.test(i)||fu.test(t)&&!hu.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},vu=cu((function(){return'"\\udf06\\ud834"'!==lu("\udf06\ud834")||'"\\udead"'!==lu("\udead")}));lu&&su({target:"JSON",stat:!0,forced:vu},{stringify:function(t,e,n){var r=lu.apply(null,arguments);return"string"==typeof r?r.replace(uu,pu):r}});var du=a;du.JSON||(du.JSON={stringify:JSON.stringify});var gu=function(t,e,n){return du.JSON.stringify.apply(null,arguments)},yu=X,mu=w,bu=jn,ku=uo,wu=se,Cu=ot,Eu=de,Ou=Object.assign,_u=Object.defineProperty,Fu=!Ou||mu((function(){if(yu&&1!==Ou({b:1},Ou(_u({},"a",{enumerable:!0,get:function(){_u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Ou({},t)[n]||bu(Ou({},e)).join("")!=r}))?function(t,e){for(var n=Cu(t),r=arguments.length,i=1,o=ku.f,a=wu.f;r>i;)for(var s,c=Eu(arguments[i++]),l=o?bu(c).concat(o(c)):bu(c),u=l.length,h=0;u>h;)s=l[h++],yu&&!a.call(c,s)||(n[s]=c[s]);return n}:Ou;Ge({target:"Object",stat:!0,forced:Object.assign!==Fu},{assign:Fu});var Tu=a.Object.assign,Au=c,xu=[].slice,Su=function(t){return function(e,n){var r=arguments.length>2,i=r?xu.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};Ge({global:!0,bind:!0,forced:/MSIE .\./.test(p)},{setTimeout:Su(Au.setTimeout),setInterval:Su(Au.setInterval)});var Pu=a.setTimeout,Du=ot,ju=bn,Iu=dn;Ge({target:"Array",proto:!0},{fill:function(t){for(var e=Du(this),n=Iu(e.length),r=arguments.length,i=ju(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:ju(o,n);a>i;)e[i++]=t;return e}});var Ru=es("Array").fill,Mu=Array.prototype,Nu=function(t){var e=t.fill;return t===Mu||t instanceof Array&&e===Mu.fill?Ru:e},Bu=a.Object.getOwnPropertySymbols,Lu={exports:{}},zu=Ge,Hu=w,Wu=me,qu=ae.f,Yu=X,Xu=Hu((function(){qu(1)}));zu({target:"Object",stat:!0,forced:!Yu||Xu,sham:!Yu},{getOwnPropertyDescriptor:function(t,e){return qu(Wu(t),e)}});var Vu=a.Object,Uu=Lu.exports=function(t,e){return Vu.getOwnPropertyDescriptor(t,e)};Vu.getOwnPropertyDescriptor.sham&&(Uu.sham=!0);var $u=Lu.exports,Gu=gs,Qu=me,Ju=ae,Ku=Gr;Ge({target:"Object",stat:!0,sham:!X},{getOwnPropertyDescriptors:function(t){for(var e,n,r=Qu(t),i=Ju.f,o=Gu(r),a={},s=0;o.length>s;)void 0!==(n=i(r,e=o[s++]))&&Ku(a,e,n);return a}});var Zu=a.Object.getOwnPropertyDescriptors,th={exports:{}};Ge({target:"Object",stat:!0,forced:!X,sham:!X},{defineProperties:Nn});var eh=a.Object,nh=th.exports=function(t,e){return eh.defineProperties(t,e)};eh.defineProperties.sham&&(nh.sham=!0);var rh=th.exports,ih=ru;function oh(t,e,n){return e in t?iu(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ah=On.includes;Ge({target:"Array",proto:!0},{includes:function(t){return ah(this,t,arguments.length>1?arguments[1]:void 0)}});var sh=es("Array").includes,ch=Y,lh=fe,uh=wt("match"),hh=function(t){var e;return ch(t)&&(void 0!==(e=t[uh])?!!e:"RegExp"==lh(t))},fh=wt("match"),ph=function(t){if(hh(t))throw TypeError("The method doesn't accept regular expressions");return t},vh=S,dh=x;Ge({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[fh]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~dh(vh(this)).indexOf(dh(ph(t)),arguments.length>1?arguments[1]:void 0)}});var gh=es("String").includes,yh=sh,mh=gh,bh=Array.prototype,kh=String.prototype,wh=function(t){var e=t.includes;return t===bh||t instanceof Array&&e===bh.includes?yh:"string"==typeof t||t===kh||t instanceof String&&e===kh.includes?mh:e},Ch=ot,Eh=nn,Oh=Qe;Ge({target:"Object",stat:!0,forced:w((function(){Eh(1)})),sham:!Oh},{getPrototypeOf:function(t){return Eh(Ch(t))}});var _h=a.Object.getPrototypeOf,Fh=Fo.filter;Ge({target:"Array",proto:!0,forced:!Hi("filter")},{filter:function(t){return Fh(this,t,arguments.length>1?arguments[1]:void 0)}});var Th=es("Array").filter,Ah=Array.prototype,xh=function(t){var e=t.filter;return t===Ah||t instanceof Array&&e===Ah.filter?Th:e},Sh=X,Ph=jn,Dh=me,jh=se.f,Ih=function(t){return function(e){for(var n,r=Dh(e),i=Ph(r),o=i.length,a=0,s=[];o>a;)n=i[a++],Sh&&!jh.call(r,n)||s.push(t?[n,r[n]]:r[n]);return s}},Rh={entries:Ih(!0),values:Ih(!1)}.values;Ge({target:"Object",stat:!0},{values:function(t){return Rh(t)}});var Mh=a.Object.values,Nh=S,Bh=x,Lh="[\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff]",zh=RegExp("^"+Lh+Lh+"*"),Hh=RegExp(Lh+Lh+"*$"),Wh=function(t){return function(e){var n=Bh(Nh(e));return 1&t&&(n=n.replace(zh,"")),2&t&&(n=n.replace(Hh,"")),n}},qh={start:Wh(1),end:Wh(2),trim:Wh(3)},Yh=x,Xh=qh.trim,Vh=c.parseInt,Uh=/^[+-]?0[Xx]/,$h=8!==Vh("\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff08")||22!==Vh("\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff0x16")?function(t,e){var n=Xh(Yh(t));return Vh(n,e>>>0||(Uh.test(n)?16:10))}:Vh;Ge({global:!0,forced:parseInt!=$h},{parseInt:$h});var Gh=a.parseInt,Qh=Ge,Jh=On.indexOf,Kh=$s,Zh=[].indexOf,tf=!!Zh&&1/[1].indexOf(1,-0)<0,ef=Kh("indexOf");Qh({target:"Array",proto:!0,forced:tf||!ef},{indexOf:function(t){return tf?Zh.apply(this,arguments)||0:Jh(this,t,arguments.length>1?arguments[1]:void 0)}});var nf=es("Array").indexOf,rf=Array.prototype,of=function(t){var e=t.indexOf;return t===rf||t instanceof Array&&e===rf.indexOf?nf:e},af=w,sf="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",cf=qh.trim;Ge({target:"String",proto:!0,forced:function(t){return af((function(){return!!sf[t]()||"âÂá "!="âÂá "[t]()||sf[t].name!==t}))}("trim")},{trim:function(){return cf(this)}});var lf=es("String").trim,uf=String.prototype,hf=function(t){var e=t.trim;return"string"==typeof t||t===uf||t instanceof String&&e===uf.trim?lf:e};Ge({target:"Object",stat:!0,sham:!X},{create:Qn});var ff=a.Object,pf=function(t,e){return ff.create(t,e)};function vf(t,e){var n=void 0!==cs&&Si(t)||t["@@iterator"];if(!n){if(ms(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return df(t,e);var r=fs(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return pi(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return df(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function df(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gf(t,e){var n=_s(t);if(Bu){var r=Bu(t);e&&(r=xh(r).call(r,(function(e){return $u(t,e).enumerable}))),n.push.apply(n,r)}return n}function yf(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};if(e%2)ec(n=gf(Object(r),!0)).call(n,(function(e){oh(t,e,r[e])}));else if(Zu)rh(t,Zu(r));else{var i;ec(i=gf(Object(r))).call(i,(function(e){ih(t,e,$u(r,e))}))}}return t}var mf=/^\/?Date\((-?\d+)/i,bf=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,kf=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,wf=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Cf=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ef(t){return t instanceof Number||"number"==typeof t}function Of(t){if(t)for(;!0===t.hasChildNodes();){var e=t.firstChild;e&&(Of(e),t.removeChild(e))}}function _f(t){return t instanceof String||"string"==typeof t}function Ff(t){return"object"===Na(t)&&null!==t}function Tf(t){if(t instanceof Date)return!0;if(_f(t)){if(mf.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1}function Af(t,e,n,r){var i=!1;!0===r&&(i=null===e[n]&&void 0!==t[n]),i?delete t[n]:t[n]=e[n]}function xf(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in t)if(void 0!==e[r])if(null===e[r]||"object"!==Na(e[r]))Af(t,e,r,n);else{var i=t[r],o=e[r];Ff(i)&&Ff(o)&&xf(i,o,n)}}var Sf=Tu;function Pf(t,e){if(!ms(t))throw new Error("Array with property names expected as first argument");for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];for(var o=0,a=r;o<a.length;o++)for(var s=a[o],c=0;c<t.length;c++){var l=t[c];s&&Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e}function Df(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ms(n))throw new TypeError("Arrays are not supported by deepExtend");for(var i=0;i<t.length;i++){var o=t[i];if(Object.prototype.hasOwnProperty.call(n,o))if(n[o]&&n[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?If(e[o],n[o],!1,r):Af(e,n,o,r);else{if(ms(n[o]))throw new TypeError("Arrays are not supported by deepExtend");Af(e,n,o,r)}}return e}function jf(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ms(n))throw new TypeError("Arrays are not supported by deepExtend");for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&!wh(t).call(t,i))if(n[i]&&n[i].constructor===Object)void 0===e[i]&&(e[i]={}),e[i].constructor===Object?If(e[i],n[i]):Af(e,n,i,r);else if(ms(n[i])){e[i]=[];for(var o=0;o<n[i].length;o++)e[i].push(n[i][o])}else Af(e,n,i,r);return e}function If(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)||!0===n)if("object"===Na(e[i])&&null!==e[i]&&_h(e[i])===Object.prototype)void 0===t[i]?t[i]=If({},e[i],n):"object"===Na(t[i])&&null!==t[i]&&_h(t[i])===Object.prototype?If(t[i],e[i],n):Af(t,e,i,r);else if(ms(e[i])){var o;t[i]=fs(o=e[i]).call(o)}else Af(t,e,i,r);return t}function Rf(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!=e[n])return!1;return!0}function Mf(t){var e=Na(t);return"object"===e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":ms(t)?"Array":t instanceof Date?"Date":"Object":"number"===e?"Number":"boolean"===e?"Boolean":"string"===e?"String":void 0===e?"undefined":e}function Nf(t,e){var n;return hs(n=[]).call(n,ss(t),[e])}function Bf(t){return fs(t).call(t)}function Lf(t){return t.getBoundingClientRect().left}function zf(t){return t.getBoundingClientRect().right}function Hf(t){return t.getBoundingClientRect().top}function Wf(t,e){var n=t.className.split(" "),r=e.split(" ");n=hs(n).call(n,xh(r).call(r,(function(t){return!wh(n).call(n,t)}))),t.className=n.join(" ")}function qf(t,e){var n=t.className.split(" "),r=e.split(" ");n=xh(n).call(n,(function(t){return!wh(r).call(r,t)})),t.className=n.join(" ")}function Yf(t,e){if(ms(t))for(var n=t.length,r=0;r<n;r++)e(t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(t[i],i,t)}var Xf=Mh;function Vf(t,e,n){return t[e]!==n&&(t[e]=n,!0)}function Uf(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame((function(){e=!1,t()})))}}function $f(t,e,n,r){var i;t.addEventListener?(void 0===r&&(r=!1),"mousewheel"===e&&wh(i=navigator.userAgent).call(i,"Firefox")&&(e="DOMMouseScroll"),t.addEventListener(e,n,r)):t.attachEvent("on"+e,n)}function Gf(t,e,n,r){var i;t.removeEventListener?(void 0===r&&(r=!1),"mousewheel"===e&&wh(i=navigator.userAgent).call(i,"Firefox")&&(e="DOMMouseScroll"),t.removeEventListener(e,n,r)):t.detachEvent("on"+e,n)}function Qf(t){t||(t=window.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}function Jf(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event,e=null;return t&&(t.target?e=t.target:t.srcElement&&(e=t.srcElement)),e instanceof Element&&(null==e.nodeType||3!=e.nodeType||(e=e.parentNode)instanceof Element)?e:null}function Kf(t,e){for(var n=t;n;){if(n===e)return!0;if(!n.parentNode)return!1;n=n.parentNode}return!1}var Zf={asBoolean:function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},asNumber:function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},asString:function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},asSize:function(t,e){return"function"==typeof t&&(t=t()),_f(t)?t:Ef(t)?t+"px":e||null},asElement:function(t,e){return"function"==typeof t&&(t=t()),t||e||null}};function tp(t){var e;switch(t.length){case 3:case 4:return(e=kf.exec(t))?{r:Gh(e[1]+e[1],16),g:Gh(e[2]+e[2],16),b:Gh(e[3]+e[3],16)}:null;case 6:case 7:return(e=bf.exec(t))?{r:Gh(e[1],16),g:Gh(e[2],16),b:Gh(e[3],16)}:null;default:return null}}function ep(t,e){if(wh(t).call(t,"rgba"))return t;if(wh(t).call(t,"rgb")){var n=t.substr(of(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+e+")"}var r=tp(t);return null==r?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}function np(t,e,n){var r;return"#"+fs(r=((1<<24)+(t<<16)+(e<<8)+n).toString(16)).call(r,1)}function rp(t,e){if(_f(t)){var n=t;if(pp(n)){var r,i=Cs(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,(function(t){return Gh(t)}));n=np(i[0],i[1],i[2])}if(!0===fp(n)){var o=hp(n),a={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},s={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},c=up(s.h,s.s,s.v),l=up(a.h,a.s,a.v);return{background:n,border:c,highlight:{background:l,border:c},hover:{background:l,border:c}}}return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}return e?{background:t.background||e.background,border:t.border||e.border,highlight:_f(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:_f(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:_f(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:_f(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function ip(t,e,n){t/=255,e/=255,n/=255;var r=Math.min(t,Math.min(e,n)),i=Math.max(t,Math.max(e,n));return r===i?{h:0,s:0,v:r}:{h:60*((t===r?3:n===r?1:5)-(t===r?e-n:n===r?t-e:n-t)/(i-r))/360,s:(i-r)/i,v:i}}var op=function(t){var e,n={};return ec(e=t.split(";")).call(e,(function(t){if(""!=hf(t).call(t)){var e,r,i=t.split(":"),o=hf(e=i[0]).call(e),a=hf(r=i[1]).call(r);n[o]=a}})),n},ap=function(t){var e;return Cs(e=_s(t)).call(e,(function(e){return e+": "+t[e]})).join("; ")};function sp(t,e){var n=op(t.style.cssText),r=op(e),i=yf(yf({},n),r);t.style.cssText=ap(i)}function cp(t,e){var n=op(t.style.cssText),r=op(e);for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&delete n[i];t.style.cssText=ap(n)}function lp(t,e,n){var r,i,o,a=Math.floor(6*t),s=6*t-a,c=n*(1-e),l=n*(1-s*e),u=n*(1-(1-s)*e);switch(a%6){case 0:r=n,i=u,o=c;break;case 1:r=l,i=n,o=c;break;case 2:r=c,i=n,o=u;break;case 3:r=c,i=l,o=n;break;case 4:r=u,i=c,o=n;break;case 5:r=n,i=c,o=l}return{r:Math.floor(255*r),g:Math.floor(255*i),b:Math.floor(255*o)}}function up(t,e,n){var r=lp(t,e,n);return np(r.r,r.g,r.b)}function hp(t){var e=tp(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return ip(e.r,e.g,e.b)}function fp(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function pp(t){return wf.test(t)}function vp(t){return Cf.test(t)}function dp(t,e){if(null!==e&&"object"===Na(e)){for(var n=pf(e),r=0;r<t.length;r++)Object.prototype.hasOwnProperty.call(e,t[r])&&"object"==Na(e[t[r]])&&(n[t[r]]=gp(e[t[r]]));return n}return null}function gp(t){if(null===t||"object"!==Na(t))return null;if(t instanceof Element)return t;var e=pf(t);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&"object"==Na(t[n])&&(e[n]=gp(t[n]));return e}function yp(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=void 0;for(i=n;i>0&&e(r,t[i-1])<0;i--)t[i]=t[i-1];t[i]=r}return t}function mp(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=function(t){return null!=t},o=function(t){return null!==t&&"object"===Na(t)},a=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!i(n))throw new Error("Parameter option must have a value");if(!o(r))throw new Error("Parameter globalOptions must be an object");var s=function(t,e,n){o(t[n])||(t[n]={});var r=e[n],i=t[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},c=e[n],l=o(r)&&!a(r),u=l?r[n]:void 0,h=u?u.enabled:void 0;if(void 0!==c){if("boolean"==typeof c)return o(t[n])||(t[n]={}),void(t[n].enabled=c);if(null===c&&!o(t[n])){if(!i(u))return;t[n]=pf(u)}if(o(c)){var f=!0;void 0!==c.enabled?f=c.enabled:void 0!==h&&(f=u.enabled),s(t,e,n),t[n].enabled=f}}}function bp(t,e,n,r){for(var i=0,o=0,a=t.length-1;o<=a&&i<1e4;){var s=Math.floor((o+a)/2),c=t[s],l=e(void 0===r?c[n]:c[n][r]);if(0==l)return s;-1==l?o=s+1:a=s-1,i++}return-1}function kp(t,e,n,r,i){var o,a,s,c,l=0,u=0,h=t.length-1;for(i=null!=i?i:function(t,e){return t==e?0:t<e?-1:1};u<=h&&l<1e4;){if(c=Math.floor(.5*(h+u)),o=t[Math.max(0,c-1)][n],a=t[c][n],s=t[Math.min(t.length-1,c+1)][n],0==i(a,e))return c;if(i(o,e)<0&&i(a,e)>0)return"before"==r?Math.max(0,c-1):c;if(i(a,e)<0&&i(s,e)>0)return"before"==r?c:Math.min(t.length-1,c+1);i(a,e)<0?u=c+1:h=c-1,l++}return-1}var wp={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function Cp(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var r=t.offsetWidth;return n==r&&(r=e.clientWidth),document.body.removeChild(e),n-r}function Ep(t,e){var n;ms(e)||(e=[e]);var r,i=vf(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o){n=o[e[0]];for(var a=1;a<e.length;a++)n&&(n=n[e[a]]);if(void 0!==n)break}}}catch(t){i.e(t)}finally{i.f()}return n}var Op={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},_p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Zl(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return au(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return Op[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var n,r=this._isColorString(t);if(void 0!==r&&(t=r),!0===_f(t)){if(!0===pp(t)){var i=t.substr(4).substr(0,t.length-5).split(",");n={r:i[0],g:i[1],b:i[2],a:1}}else if(!0===vp(t)){var o=t.substr(5).substr(0,t.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(!0===fp(t)){var a=tp(t);n={r:a.r,g:a.g,b:a.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var s=void 0!==t.a?t.a:"1.0";n={r:t.r,g:t.g,b:t.b,a:s}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+gu(t));this._setColor(n,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===e&&(this.previousColor=Tu({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",Pu((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===e&&(this.initialColor=Tu({},t)),this.color=t;var n=ip(t.r,t.g,t.b),r=2*Math.PI,i=this.r*n.s,o=this.centerCoordinates.x+i*Math.sin(r*n.h),a=this.centerCoordinates.y+i*Math.cos(r*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=ip(this.color.r,this.color.g,this.color.b);e.v=t/100;var n=lp(e.h,e.s,e.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=ip(t.r,t.g,t.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,r,i),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-e.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Nu(n).call(n),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,e,n,r;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var i=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var a=this;this.opacityRange.onchange=function(){a._setOpacity(this.value)},this.opacityRange.oninput=function(){a._setOpacity(this.value)},this.brightnessRange.onchange=function(){a._setBrightness(this.value)},this.brightnessRange.oninput=function(){a._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Vs(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Vs(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Vs(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Vs(r=this._loadLast).call(r,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new Gl(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",(function(e){e.isFirst&&t._moveSelector(e)})),this.hammer.on("tap",(function(e){t._moveSelector(e)})),this.hammer.on("panstart",(function(e){t._moveSelector(e)})),this.hammer.on("panmove",(function(e){t._moveSelector(e)})),this.hammer.on("panend",(function(e){t._moveSelector(e)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e,n,r,i,o=this.colorPickerCanvas.clientWidth,a=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,o,a),this.centerCoordinates={x:.5*o,y:.5*a},this.r=.49*o;var s,c=2*Math.PI/360,l=1/this.r;for(r=0;r<360;r++)for(i=0;i<this.r;i++)e=this.centerCoordinates.x+i*Math.sin(c*r),n=this.centerCoordinates.y+i*Math.cos(c*r),s=lp(.002777777777777778*r,i*l,1),t.fillStyle="rgb("+s.r+","+s.g+","+s.b+")",t.fillRect(e-.5,n-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,o,a)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),n=t.center.x-e.left,r=t.center.y-e.top,i=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=n-o,s=r-i,c=Math.atan2(a,s),l=.98*Math.min(Math.sqrt(a*a+s*s),o),u=Math.cos(c)*l+i,h=Math.sin(c)*l+o;this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";var f=c/(2*Math.PI);f=f<0?f+1:f;var p=l/this.r,v=ip(this.color.r,this.color.g,this.color.b);v.h=f,v.s=p;var d=lp(v.h,v.s,v.v);d.a=this.color.a,this.color=d,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();function Fp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);var r=document.createElement(e[0]);return r.appendChild(Fp.apply(void 0,ss(fs(e).call(e,1)))),r}var Tp,Ap=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};Zl(this,t),this.parent=e,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Tu(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new _p(i),this.wrapper=void 0}return au(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(ms(t))this.options.filter=t.join();else if("object"===Na(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==xh(t)&&(this.options.filter=xh(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===xh(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=xh(this.options),e=0,n=!1;for(var r in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,r)&&(this.allowCreation=!1,n=!1,"function"==typeof t?n=(n=t(r,[]))||this._handleObject(this.configureOptions[r],[r],!0):!0!==t&&-1===of(t).call(t,r)||(n=!0),!1!==n&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),e++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,n=0;n<t.length;n++){if(void 0===e[t[n]]){e=void 0;break}e=e[t[n]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ec(r).call(r,(function(t){e.appendChild(t)})),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.createElement("div");if(r.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===n){for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(Fp("i","b",t))}else r.innerText=t+":";return r}},{key:"_makeDropdown",value:function(t,e,n){var r=document.createElement("select");r.className="vis-configuration vis-config-select";var i=0;void 0!==e&&-1!==of(t).call(t,e)&&(i=of(t).call(t,e));for(var o=0;o<t.length;o++){var a=document.createElement("option");a.value=t[o],o===i&&(a.selected="selected"),a.innerText=t[o],r.appendChild(a)}var s=this;r.onchange=function(){s._update(this.value,n)};var c=this._makeLabel(n[n.length-1],n);this._makeItem(n,c,r)}},{key:"_makeRange",value:function(t,e,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=document.createElement("input");s.className="vis-configuration vis-config-range";try{s.type="range",s.min=i,s.max=o}catch(t){}s.step=a;var c="",l=0;if(void 0!==e){var u=1.2;e<0&&e*u<i?(s.min=Math.ceil(e*u),l=s.min,c="range increased"):e/u<i&&(s.min=Math.ceil(e/u),l=s.min,c="range increased"),e*u>o&&1!==o&&(s.max=Math.ceil(e*u),l=s.max,c="range increased"),s.value=e}else s.value=r;var h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=s.value;var f=this;s.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},s.oninput=function(){h.value=this.value};var p=this._makeLabel(n[n.length-1],n),v=this._makeItem(n,p,s,h);""!==c&&this.popupHistory[v]!==l&&(this.popupHistory[v]=l,this._setupPopup(c,v))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}},{key:"_setupPopup",value:function(t,e){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=t,r.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Pu((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=Pu((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,e,n){var r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=t,void 0!==e&&(r.checked=e,e!==t&&("object"===Na(t)?e!==t.enabled&&this.changedOptions.push({path:n,value:e}):this.changedOptions.push({path:n,value:e})));var i=this;r.onchange=function(){i._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,r)}},{key:"_makeTextInput",value:function(t,e,n){var r=document.createElement("input");r.type="text",r.className="vis-configuration vis-config-text",r.value=e,e!==t&&this.changedOptions.push({path:n,value:e});var i=this;r.onchange=function(){i._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,r)}},{key:"_makeColorField",value:function(t,e,n){var r=this,i=t[1],o=document.createElement("div");"none"!==(e=void 0===e?i:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?i:e,o.onclick=function(){r._showColorPicker(e,o,n)};var a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,o)}},{key:"_showColorPicker",value:function(t,e,n){var r=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var i="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=i,r._update(i,n)})),this.colorPicker.setCloseCallback((function(){e.onclick=function(){r._showColorPicker(t,e,n)}}))}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,i=xh(this.options),o=!1;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){r=!0;var s=t[a],c=Nf(e,a);if("function"==typeof i&&!1===(r=i(a,e))&&!ms(s)&&"string"!=typeof s&&"boolean"!=typeof s&&s instanceof Object&&(this.allowCreation=!1,r=this._handleObject(s,c,!0),this.allowCreation=!1===n),!1!==r){o=!0;var l=this._getValue(c);if(ms(s))this._handleArray(s,l,c);else if("string"==typeof s)this._makeTextInput(s,l,c);else if("boolean"==typeof s)this._makeCheckbox(s,l,c);else if(s instanceof Object){if(!this.hideOption(e,a,this.moduleOptions))if(void 0!==s.enabled){var u=Nf(c,"enabled"),h=this._getValue(u);if(!0===h){var f=this._makeLabel(a,c,!0);this._makeItem(c,f),o=this._handleObject(s,c)||o}else this._makeCheckbox(s,h,c)}else{var p=this._makeLabel(a,c,!0);this._makeItem(c,p),o=this._handleObject(s,c)||o}}else console.error("dont know how to handle",s,a,c)}}return o}},{key:"_handleArray",value:function(t,e,n){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,n),t[1]!==e&&this.changedOptions.push({path:n,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:Number(e)}))}},{key:"_update",value:function(t,e){var n=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n;t="false"!==(t="true"===t||t)&&t;for(var i=0;i<e.length;i++)"global"!==e[i]&&(void 0===r[e[i]]&&(r[e[i]]={}),i!==e.length-1?r=r[e[i]]:r[e[i]]=t);return n}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Fp("pre","const options = "+gu(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}(),xp=!1,Sp=Kl,Pp=_p,Dp=Ap,jp=Gl,Ip=function(){function t(e,n){Zl(this,t),this.container=e,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return au(t,[{key:"setPosition",value:function(t,e){this.x=Gh(t),this.y=Gh(e)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,n=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,i=this.frame.parentNode.clientWidth,o=0,a=0;if("flip"==this.overflowMethod){var s=!1,c=!0;this.y-e<this.padding&&(c=!1),this.x+n>i-this.padding&&(s=!0),o=s?this.x-n:this.x,a=c?this.y-e:this.y}else(a=this.y-e)+e+this.padding>r&&(a=r-e-this.padding),a<this.padding&&(a=this.padding),(o=this.x)+n+this.padding>i&&(o=i-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),Rp="background: #FFeeee; color: #dd0000",Mp=function(){function t(){Zl(this,t)}return au(t,null,[{key:"validate",value:function(e,n,r){xp=!1,Tp=n;var i=n;return void 0!==r&&(i=n[r]),t.parse(e,i,[]),xp}},{key:"parse",value:function(e,n,r){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.check(i,e,n,r)}},{key:"check",value:function(e,n,r,i){if(void 0!==r[e]||void 0!==r.__any__){var o=e,a=!0;void 0===r[e]&&void 0!==r.__any__&&(o="__any__",a="object"===t.getType(n[e]));var s=r[o];a&&void 0!==s.__type__&&(s=s.__type__),t.checkFields(e,n,r,o,s,i)}else t.getSuggestion(e,r,i)}},{key:"checkFields",value:function(e,n,r,i,o,a){var s=function(n){console.error("%c"+n+t.printLocation(a,e),"background: #FFeeee; color: #dd0000")},c=t.getType(n[e]),l=o[c];void 0!==l?"array"===t.getType(l)&&-1===of(l).call(l,n[e])?(s('Invalid option detected in "'+e+'". Allowed values are:'+t.print(l)+' not "'+n[e]+'". '),xp=!0):"object"===c&&"__any__"!==i&&(a=Nf(a,e),t.parse(n[e],r[i],a)):void 0===o.any&&(s('Invalid type received for "'+e+'". Expected: '+t.print(_s(o))+". Received ["+c+'] "'+n[e]+'"'),xp=!0)}},{key:"getType",value:function(t){var e=Na(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":ms(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,n,r){var i,o=t.findInOptions(e,n,r,!1),a=t.findInOptions(e,Tp,[],!0);i=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':a.distance<=4&&o.distance>a.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(a.path,a.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print(_s(n))+t.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+i,"background: #FFeeee; color: #dd0000"),xp=!0}},{key:"findInOptions",value:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,a="",s=[],c=e.toLowerCase(),l=void 0;for(var u in n){var h=void 0;if(void 0!==n[u].__type__&&!0===i){var f=t.findInOptions(e,n[u],Nf(r,u));o>f.distance&&(a=f.closestMatch,s=f.path,o=f.distance,l=f.indexMatch)}else{var p;-1!==of(p=u.toLowerCase()).call(p,c)&&(l=u),o>(h=t.levenshteinDistance(e,u))&&(a=u,s=Bf(r),o=h)}}return{closestMatch:a,path:s,distance:o,indexMatch:l}}},{key:"printLocation",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",r="\n\n"+n+"options = {\n",i=0;i<t.length;i++){for(var o=0;o<i+1;o++)r+="  ";r+=t[i]+": {\n"}for(var a=0;a<t.length+1;a++)r+="  ";r+=e+"\n";for(var s=0;s<t.length+1;s++){for(var c=0;c<t.length-s;c++)r+="  ";r+="}\n"}return r+"\n\n"}},{key:"print",value:function(t){return gu(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var n,r,i=[];for(n=0;n<=e.length;n++)i[n]=[n];for(r=0;r<=t.length;r++)i[0][r]=r;for(n=1;n<=e.length;n++)for(r=1;r<=t.length;r++)e.charAt(n-1)==t.charAt(r-1)?i[n][r]=i[n-1][r-1]:i[n][r]=Math.min(i[n-1][r-1]+1,Math.min(i[n][r-1]+1,i[n-1][r]+1));return i[e.length][t.length]}}]),t}();export{Sp as Activator,Ms as Alea,Pp as ColorPicker,Dp as Configurator,As as DELETE,up as HSVToHex,lp as HSVToRGB,jp as Hammer,Ip as Popup,ip as RGBToHSV,np as RGBToHex,Rp as VALIDATOR_PRINT_STYLE,Mp as Validator,Wf as addClassName,sp as addCssText,$f as addEventListener,bp as binarySearchCustom,kp as binarySearchValue,gp as bridgeObject,Nf as copyAndExtendArray,Bf as copyArray,If as deepExtend,Ss as deepObjectAssign,wp as easingFunctions,Rf as equalArray,Sf as extend,xf as fillIfDefined,Yf as forEach,Lf as getAbsoluteLeft,zf as getAbsoluteRight,Hf as getAbsoluteTop,Cp as getScrollBarWidth,Jf as getTarget,Mf as getType,Kf as hasParent,hp as hexToHSV,tp as hexToRGB,yp as insertSort,Tf as isDate,Ef as isNumber,Ff as isObject,_f as isString,fp as isValidHex,pp as isValidRGB,vp as isValidRGBA,mp as mergeOptions,Zf as option,ep as overrideOpacity,rp as parseColor,Qf as preventDefault,xs as pureDeepObjectAssign,Of as recursiveDOMDelete,qf as removeClassName,cp as removeCssText,Gf as removeEventListener,dp as selectiveBridgeObject,Df as selectiveDeepExtend,Pf as selectiveExtend,jf as selectiveNotDeepExtend,Uf as throttle,Xf as toArray,Ep as topMost,Vf as updateProperty};
//# sourceMappingURL=vis-util.min.js.map
