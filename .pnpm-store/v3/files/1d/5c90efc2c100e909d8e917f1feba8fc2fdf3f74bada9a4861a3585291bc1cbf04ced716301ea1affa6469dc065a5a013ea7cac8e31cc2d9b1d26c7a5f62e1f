{"version":3,"file":"keyedPool.js","names":["Duration","_interopRequireWildcard","require","Equal","Hash","HashMap","MutableRef","Option","Debug","core","effect","fiberRuntime","pool","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","KeyedPoolSymbolKey","KeyedPoolTypeId","Symbol","for","exports","KeyedPoolMapValueSymbol","keyedPoolVariance","_K","_","_E","_A","KeyedPoolImpl","constructor","getOrCreatePool","activePools","_a","bodyWithTrace","trace","flatMap","traced","invalidate","item","forEachDiscard","Complete","_tag","_b","symbol","combine","hash","string","u","isComplete","equals","Pending","deferred","_c","isPending","makeWith","methodWithTrace","min","max","timeToLive","map","context","fiberId","scope","suspendSucceed","value","getOrUndefined","undefined","uninterruptibleMask","restore","deferredUnsafeMake","previous","update","matchCauseEffect","cause","current","remove","zipRight","deferredFailCause","failCause","as","deferredSucceed","scopeExtend","makeWithTTL","provideContext","getOrElse","infinity","succeed","deferredAwait","forEach","Array","from","values","all","sync","make","empty","scopeMake","makeSized","size","none","makeSizedWith","makeSizedWithTTL","some","makeSizedWithTTLBy","dualWithTrace","self"],"sources":["../../../src/internal_effect_untraced/keyedPool.ts"],"sourcesContent":[null],"mappings":"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"}